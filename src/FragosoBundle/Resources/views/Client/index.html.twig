{% extends ":Layout:layout.html.twig" %}

{% block left_nav %}
    <div class="list-group">
        <a href="#"><button type="button" class="btn btn-default btn-lg btn-block">Trombino</button></a>
		<a href="#"><button type="button" class="btn btn-default btn-lg btn-block">Liste</button></a>
		<a href="#"><button type="button" class="btn btn-default btn-lg btn-block">Débiteurs</button></a>
    </div>
    
    <div class="list-group launcher">
        <a href="{{ path('creer_client') }}">
            <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="top" title="ajouter client">
                <span class="glyphicon glyphicon-plus"></span>
            </button>
        </a>
    </div>
{% endblock %}

{% block title %}
	Clients
	<a href="{{ path('creer_client') }}">
		<button type="button" class="btn btn-default btn-xs" data-toggle="tooltip" data-placement="top" title="ajouter client">
			<span class="glyphicon glyphicon-plus"></span>
		</button>
	</a>	
{% endblock %}

{% block content %}
	<h3>
		Liste des clients
		<span class="badge">{{liste_clients|length}}</span>
	</h3>
    

    <table class="table table-striped table-bordered">
        <tr>
            <th>Actions</th>
            <th>Nom</th>
            <th>Prenom</th>
            <th>Telephone</th>
            <th>Adresse</th>
            <th>Solde</th>
        </tr>
        {% for client in liste_clients %}
        <tr>
            <td>
                <a href="{{path('editer_client', {'client_num': client.id})}}">
                    <button type="button" class="btn btn-default btn-xs" data-toggle="tooltip" data-placement="top" title="editer client">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </button>
                </a>
				<a href="{{path('creer_commande', {'client_num': client.id})}}">
                    <button type="button" class="btn btn-default btn-xs" data-toggle="tooltip" data-placement="top" title="Ajouter commande">
                        <span class="glyphicon glyphicon-plus"></span>
                    </button>
                </a>
            </td>
            <td>
				<a href="{{path('afficher_client', {'client_num': client.id})}}">
					{{client.nom|upper}}
				</a>
			</td>
            <td>{{client.prenom|capitalize}}</td>
            <td>{{client.numPortable}}</td>
            <td>{{client.adresseComplete}}</td>
            <td>{{client.getSolde}} euros</td>
        </tr>
        {% endfor %}
    </table>
	
	
	<h3>
		Liste des clients améliorées
		<span class="badge">{{liste_clients|length}}</span>
	</h3>
	{% for client in liste_clients %}
		<div class="col-lg-3">
			<a class="panel-client" href="{{path('creer_commande', {'client_num': client.id})}}">
				<div class="panel panel-default panel-client">
					<h2>{{client.prenom|capitalize}}</h2>
					<h2>{{client.nom|upper}}</h2>
				</div>
			</a>
		</div>
	{% endfor %}

{% endblock %}
